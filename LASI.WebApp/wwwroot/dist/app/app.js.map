{"version":3,"sources":["app/utilities/augmentations.ts","app/LASI.ts","app/document-list/tasks-list-service.provider.ts","app/debug/debug-panel.directive.ts","app/debug/debug.module.ts","app/angular-shim.ts","app/document-upload/upload-panel.directive.ts","app/document-upload/document-upload.module.ts","app/document-list/documents.service.ts","app/document-viewer/lexical-menu-builder.service.ts","models.js","app/document-list/results.service.ts","app/document-viewer/document-model.service.ts","app/document-list/document-list-service.provider.ts","app/document-list/upload.controller.ts","app/document-list/list.controller.ts","app/document-list/document-list-tabset-item.directive.ts","app/document-list/document-list-menu-item.directive.ts","app/document-list/document-list.module.ts","app/document-viewer/document.controller.ts","app/document-viewer/document-viewer.module.ts","app/widgets/widgets.module.ts","app/document-viewer/search/search-box.directive.ts","app/document-viewer/search/search.module.ts","angular-module-utils.js","app/contextmenu-definitions-tests.ts","app/account/manage.ts","app/document-list/document-list-item.ts","app/document-viewer/document-page.directive.ts","app/document-viewer/document-viewer.directive.ts","app/document-viewer/paragraph.directive.ts","app/document-viewer/phrase.directive.ts","app/document-viewer/sentence.directive.ts","app/results/context-menu-provider.ts","app/results/result-chart-provider.ts","app/widgets/document-list.ts","app/widgets/document-upload.ts","app/widgets/processing-task-progress-bar.directive.ts","app/document-viewer/tests/mock-document-model-service.ts","main.ts"],"names":["tasksListServiceProvider","tasksListServiceProvider.setUpdateInterval","tasksListServiceProvider.setTasksListUrl","tasksListServiceProvider.$get","tasksListServiceProvider.createDebugInfoUpdator","DebugPanelController","DebugPanelController.constructor","DebugPanelController.buttonText","DebugPanelController.toggle","debugPanel","uploadPanel","documentsService","documentsService.getbyId","documentsService.deleteById","lexicalMenuBuilder","lexicalMenuBuilder.verbalMenuIsViable","lexicalMenuBuilder.referencerMenuIsViable","createForReferencerMenuBuilder","createForVerbalMenuBuilder","resetVerbalAssociationCssClasses","resultsService","success","error","documentModelService","documentModelService.processDocument","DocumentListServiceProvider","DocumentListServiceProvider.constructor","DocumentListServiceProvider.setDocumentListUrl","DocumentListServiceProvider.setRecentDocumentCount","DocumentListServiceProvider.$get","UploadController","UploadController.constructor","UploadController.uploadFiles","UploadController.logInvalidFiles","UploadController.uploadFile","UploadController.removeFile","ListController","ListController.constructor","ListController.toggleExpanded","ListController.deleteById","ListController.documentCount","ListController.processDocument","ListController.activate","documentListTabsetItem","documentListMenuItem","configure","DocumentController","DocumentController.constructor","DocumentController.processDocument","SearchBoxController","SearchBoxController.constructor","SearchBoxController.getWords","SearchBoxController.search","searchBox","contextmenuTests","LASI","LASI.accountManagement","documentPage","documentPage.link","documentViewerDirective","LASI.documentViewer","LASI.documentViewer.paragraph","phrase","phrase.link","LASI.documentViewer.sentence","LASI.documentList","LASI.widgets","LASI.widgets.processingTaskProgressBar","register","register.validate","angularBootstrap","angularBootstrap.registerAll"],"mappings":"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","file":"app.js","sourcesContent":["/**\r\n * Augments Array with the additional methods, if and only if a member with the same name as the method has not already been defined.\r\n */\r\n\r\n(function () {\r\n    'use strict';\r\n    var arrayAgumentations = {\r\n        flatMap: function (arraySelector, elementSelector) {\r\n            arraySelector = arraySelector || function (array) {\r\n                return array instanceof Array && array;\r\n            };\r\n            elementSelector = elementSelector || function (element) { return element; };\r\n            return this.reduce(function (array, a) {\r\n                return array.concat(arraySelector(a).map(elementSelector));\r\n            }, []);\r\n        },\r\n        correlate: function (inner, outerKeySelector, innerKeySelector, resultSelector) {\r\n            var outerKeyed, innerKeyed, i, j, results: { first: any, second: any }[] = [];\r\n            outerKeyed = this.map(function (e) {\r\n                return { element: e, key: outerKeySelector(e) };\r\n            });\r\n            innerKeyed = inner.map(function (e) {\r\n                return { element: e, key: innerKeySelector(e) };\r\n            });\r\n            for (i = 0; i < outerKeyed.length; i += 1) {\r\n                for (j = 0; j < innerKeyed.length; j += 1) {\r\n                    if (outerKeyed[i].key === innerKeyed[j].key) {\r\n                        results.push({ first: outerKeyed[i].element, second: innerKeyed[j].element });\r\n                    }\r\n                }\r\n            }\r\n            // If a function was supplied, map it over the array of result pairs and return the result.\r\n            // otherwise, just return the array of result pairs.\r\n            return resultSelector ? results.map(function (e) {\r\n                return resultSelector(e.first, e.second);\r\n            }) : results;\r\n        },\r\n        sum: function (valueSelector: (any) => number) {\r\n            // If the a valueSelector was not provided, define a function which will attempt \r\n            // to convert its argument to a number.\r\n            var projection = valueSelector || (x => Number(x));\r\n            return this.length === 0 ? 0 : this.reduce(function (total, element) { return total + projection(element); }, 0);\r\n        },\r\n        average: function (valueSelector) {\r\n            return this.sum(valueSelector || (x => Number(x))) / this.length;\r\n        },\r\n        first: function (predicate?: (element: any) => boolean) {\r\n            if (!predicate) {\r\n                return this[0];\r\n            }\r\n            for (let i = 0; i < this.length; ++i) {\r\n                if (predicate(this[i])) {\r\n                    return this[i];\r\n                }\r\n            }\r\n            return undefined;\r\n        },\r\n        last: function (predicate?: (element: any) => boolean) {\r\n            if (!predicate) {\r\n                return this[this.length - 1];\r\n            }\r\n            for (let i = this.length - 1; i > 0; --i) {\r\n                if (predicate(this[i])) {\r\n                    return this[i];\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n    };\r\n    Object.keys(arrayAgumentations)\r\n        .filter(key => !Object.prototype.hasOwnProperty.call(Array.prototype, key))\r\n        .map((key): ([string, PropertyDescriptor]) => [key,\r\n        {\r\n            writable: false,\r\n            enumerable: false,\r\n            configurable: false,\r\n            value: arrayAgumentations[key]\r\n        }])\r\n        .forEach(([name, property]) => Object.defineProperty(Array.prototype, name, property));\r\n})();\r\ninterface Array<T> {\r\n    flatMap<TArray, TResult>(arraySelector: (element: T) => TArray[], elementSelector: (element: TArray) => TResult): TResult[];\r\n    flatMap<TArray>(arraySelector: (element: T) => TArray[]): TArray[];\r\n    //flatMap<U>(arraySelector: (element: T) => U[], elementSelector?: (element: T) => U): U[];\r\n    //flatMap<U extends T[]>(): T[];\r\n    flatMap(): any[];\r\n    correlate<TInner, TKey>(inner: TInner[], outerKeySelector: (e: T) => TKey, innerKeySelector: (e: TInner) => TKey): { first: T, second: TInner }[];\r\n    /**\r\n    * @function correlate Correlates the elements of the array with the elements of another \r\n    * based on the strict (===) equality of the keys selected from each element\r\n    * by the provided selector functions. Models the semantics of a relational inner join.\r\n    * Returns an array of elements produced by invoking the specified resultSelector function on each pair of correlated elements.\r\n    * @param inner An array whose elements will be correlated with the source array.\r\n    * @param outerKeySelector A function to produce a key value from each element in the outer array.\r\n    * @param innerKeySelector A function to produce a key value from each element in the inner array.\r\n    * @param resultSelector A function to transform each pair of correlated elements.\r\n    * @returns An array of elements produced by invoking the specified resultSelector function on each pair of correlated elements. \r\n    */\r\n    correlate<TInner, TKey, TResult>(\r\n        inner: TInner[],\r\n        outerKeySelector: (e: T) => TKey,\r\n        innerKeySelector: (e: TInner) => TKey,\r\n        resultSelector: (first: T, second: TInner) => TResult\r\n        ): TResult[];\r\n    sum(valueSelector?: (any) => number): number;\r\n    average(valueSelector?: (any) => number): number;\r\n\r\n    first(predicate?: (element: T) => boolean): T;\r\n    last(predicate?: (element: T) => boolean): T;\r\n\r\n} ","/// <reference path=\"../../typings/tsd.d.ts\" />\r\n'use strict';\r\nimport * as $ from 'jquery';\r\nexport var buildMenus: () => void;\r\nexport var enableActiveHighlighting: () => void;\r\n//export var setupDraggableDialogs: () => void; \r\nexport var log: (message?: any, ...optionalParams: any[]) => void = console.log.bind(console);\r\nexport var editor = $('#free-editor').change(log); // TODO: parameterize selector.","'use strict';\r\ntype IIntervalService = ng.IIntervalService;\r\ntype IQService = ng.IQService;\r\ntype IPromise<T> = ng.IPromise<T>;\r\ntype IResourceService = ng.resource.IResourceService;\r\n\r\nexport function tasksListServiceProvider(): TasksListServiceProvider {\r\n    var updateInterval = 200;\r\n    var tasksListUrl = 'api/Tasks';\r\n\r\n    $get.$inject = ['$q', '$resource', '$interval'];\r\n\r\n    return { $get, setUpdateInterval, setTasksListUrl };\r\n\r\n    function setUpdateInterval(milliseconds: number): TasksListServiceProvider {\r\n        updateInterval = milliseconds;\r\n        return this;\r\n    }\r\n    function setTasksListUrl(url: string): TasksListServiceProvider {\r\n        tasksListUrl = url;\r\n        return this;\r\n    }\r\n\r\n    function $get($q: IQService, $resource: IResourceService, $interval: IIntervalService): TasksListService {\r\n        //var updateDebugInfo = function (tasks) { }; //createDebugInfoUpdator($('#debug-panel'));\r\n        var Tasks = $resource<Task[]>(tasksListUrl, {}, {\r\n            get: {\r\n                method: 'GET', isArray: true\r\n            }\r\n        });\r\n        var getActiveTasks = function () {\r\n            var deferred = $q.defer<Task[]>();\r\n            $interval(() => {\r\n                this.tasks = Tasks.get();\r\n                deferred.resolve(this.tasks);\r\n            }, updateInterval);\r\n            return deferred.promise;\r\n        };\r\n\r\n        return {\r\n            getActiveTasks,\r\n            tasks: []\r\n        };\r\n    }\r\n    function createDebugInfoUpdator(element: JQuery): (tasks: Task[]) => JQuery {\r\n        return tasks => element.html(tasks.map(\r\n            task => `<div>${Object.keys(task).map(key => `<span>&nbsp&nbsp${task[key]}</span>`) }</div>`\r\n        ).join());\r\n    }\r\n}\r\nexport interface TasksListServiceProvider {\r\n    $get: ($q, $resource: IResourceService, $interval: IIntervalService) => TasksListService;\r\n    setTasksListUrl(url: string): TasksListServiceProvider;\r\n    setUpdateInterval(milliconds: number): TasksListServiceProvider;\r\n}\r\n\r\nexport interface Task {\r\n    id: string;\r\n    name: string;\r\n    state: string;\r\n    percentComplete: number;\r\n    statusMessage: string;\r\n}\r\n\r\nexport interface TasksListService {\r\n    getActiveTasks(): IPromise<Task[]>;\r\n    tasks: Task[];\r\n}","'use strict';\r\n/// <amd-dependency path=\"text!./debug-panel.directive.html\">\r\nimport { TasksListService, Task } from 'app/document-list/tasks-list-service.provider';\r\n\r\nclass DebugPanelController {\r\n    static $inject = ['tasksListService'];\r\n    constructor(tasksListService: TasksListService) {\r\n        tasksListService.getActiveTasks().then(data => this.tasks = data.sort((x, y) => x.id.localeCompare(y.id)));\r\n    }\r\n\r\n    get buttonText() { return this.infoVisible ? 'Hide' : 'Show'; }\r\n\r\n    toggle() { this.infoVisible = !this.infoVisible; }\r\n\r\n    tasks: Task[] = [];\r\n    infoVisible = false;\r\n}\r\nexport function debugPanel(): ng.IDirective {\r\n    return {\r\n        templateUrl: 'app/debug/debug-panel.directive.html',\r\n        controller: DebugPanelController,\r\n        bindToController: {},\r\n        controllerAs: 'debug'\r\n    };\r\n}","import { debugPanel } from './debug-panel.directive';\r\n\r\nvar m: AngularModuleOptions = {\r\n    name: 'debug',\r\n    requires: [],\r\n    directives: { debugPanel }\r\n};\r\nexport default m;   ","\r\nimport * as angular from 'angular';\r\nimport * as resource from 'angular-resource';\r\nimport * as angularBootstrap from 'angular-bootstrap';\r\nimport * as angularBootstrapContextmenu from 'angular-bootstrap-contextmenu';\r\nimport * as angularFileUpload from 'angular-file-upload';\r\nimport * as $ from 'jquery';\r\nexport default {\r\n    $, angular, resource, angularBootstrap, angularBootstrapContextmenu, angularFileUpload\r\n}\r\n","'use strict';\r\n\r\nuploadPanel.$inject = ['$window'];\r\n\r\nexport function uploadPanel($window): ng.IDirective {\r\n    return {\r\n        restrict: 'E'\r\n    };\r\n}","'use strict';\r\nimport 'app/angular-shim';\r\nimport * as angular from 'angular';\r\nimport { uploadPanel } from './upload-panel.directive';\r\n\r\nexport default {\r\n    name: 'documentUpload',\r\n    requires: ['ngFileUpload'],\r\n}","'use strict';\r\nimport { IResourceService } from 'angular-resource';\r\n\r\ntype DocumentListItem = LASI.documentList.DocumentListItem;\r\ndocumentsService.$inject = ['$resource'];\r\nexport interface DocumentsService {\r\n    getbyId(documentId: string): DocumentListItem[];\r\n    deleteById(documentId: string): DocumentListItem[];\r\n}\r\nexport function documentsService($resource: IResourceService): DocumentsService {\r\n    var userDocouments = $resource<DocumentListItem[]>('api/UserDocuments/:documentId');\r\n    function getbyId(documentId) {\r\n        return userDocouments.get({ documentId });\r\n    }\r\n    function deleteById(documentId) {\r\n        return userDocouments.delete({ documentId });\r\n    }\r\n    return {\r\n        deleteById,\r\n        getbyId\r\n    };\r\n} \r\n","'use strict';\r\n\r\ntype ContextMenu = angular.ui.bootstrap.contextMenu.ContextMenu;\r\n\r\nlexicalMenuBuilder.$inject = [];\r\n\r\nexport function lexicalMenuBuilder(): LexicalMenuBuilderFactory {\r\n    var [buildForVerbal, buildForReferencer] = [createForVerbalMenuBuilder({}), createForReferencerMenuBuilder({})];\r\n\r\n    return {\r\n        buildAngularMenu: source =>\r\n            referencerMenuIsViable(<ReferencerContextmenuDataSource>source) ?\r\n                buildForReferencer(<ReferencerContextmenuDataSource>source) :\r\n                verbalMenuIsViable(<VerbalContextmenuDataSource>source) ?\r\n                    buildForVerbal(<VerbalContextmenuDataSource>source) :\r\n                    undefined\r\n    };\r\n\r\n    function verbalMenuIsViable(menu: VerbalContextmenuDataSource) {\r\n        return !!(menu && (menu.directObjectIds || menu.indirectObjectIds || menu.subjectIds));\r\n    }\r\n    function referencerMenuIsViable(menu: ReferencerContextmenuDataSource) {\r\n        return !!(menu && menu.refersToIds);\r\n    }\r\n\r\n}\r\nfunction createForReferencerMenuBuilder(menuActionTargets: { [id: string]: JQuery }) {\r\n    var resetReferencerAsssotionCssClasses = () =>\r\n        Object.keys(menuActionTargets)\r\n            .map(key => menuActionTargets[key])\r\n            .forEach($e => $e.removeClass('referred-to-by-current'));\r\n    return (source: ReferencerContextmenuDataSource): ContextMenu => [\r\n        ['View Referred To', (itemScope, event) => {\r\n            resetReferencerAsssotionCssClasses();\r\n            source.refersToIds.forEach(id => menuActionTargets[id] = $('#' + id).addClass('referred-to-by-current'));\r\n        }]\r\n    ];\r\n}\r\nfunction createForVerbalMenuBuilder(menuActionTargets: { [id: string]: JQuery }) {\r\n    return (function (verbalMenuCssClassMap: { [mapping: string]: string }) {\r\n        return (source: VerbalContextmenuDataSource) => {\r\n            var menuItems: ContextMenu = [];\r\n            if (source.subjectIds) {\r\n                menuItems.push(['View Subjects', (itemScope, event) => {\r\n                    resetVerbalAssociationCssClasses();\r\n                    source.subjectIds\r\n                        .forEach(id => {\r\n                            menuActionTargets[id] = $('#' + id).addClass(verbalMenuCssClassMap['View Subjects']);\r\n                        });\r\n                }]);\r\n            }\r\n            if (source.directObjectIds) {\r\n                menuItems.push(['View Direct Objects', (itemScope, event) => {\r\n                    resetVerbalAssociationCssClasses();\r\n                    source.directObjectIds\r\n                        .forEach(id => menuActionTargets[id] = $('#' + id).addClass(verbalMenuCssClassMap['View Direct Objects']));\r\n                }]);\r\n            }\r\n            if (source.indirectObjectIds) {\r\n                menuItems.push(['View Indirect Objects', (itemScope, event) => {\r\n                    resetVerbalAssociationCssClasses();\r\n                    source.indirectObjectIds.forEach(id => {\r\n                        menuActionTargets[id] = $('#' + id).addClass(verbalMenuCssClassMap['View Indirect Objects']);\r\n                    });\r\n                }]);\r\n            }\r\n            return menuItems;\r\n        };\r\n        function resetVerbalAssociationCssClasses() {\r\n            Object.keys(menuActionTargets)\r\n                .map(key => menuActionTargets[key])\r\n                .forEach($e =>\r\n                    Object.keys(verbalMenuCssClassMap)\r\n                        .map((k: string): string => verbalMenuCssClassMap[k])\r\n                        .forEach(cssClass => $e.removeClass(cssClass)));\r\n        }\r\n    })({\r\n        'View Subjects': 'subject-of-current',\r\n        'View Direct Objects': 'direct-object-of-current',\r\n        'View Indirect Objects': 'indirect-object-of-current'\r\n    });\r\n}\r\nexport interface LexicalMenuBuilderFactory {\r\n    buildAngularMenu: (source: LexicalContextMenuDataSource | VerbalContextmenuDataSource | ReferencerContextmenuDataSource) => ContextMenu;\r\n}\r\n\r\nexport interface LexicalContextMenuDataSource {\r\n    /**\r\n    * The id of the lexical element for which the menu is defined.\r\n    */\r\n    lexicalId: string | number;\r\n}\r\nexport interface VerbalContextmenuDataSource extends LexicalContextMenuDataSource {\r\n       \r\n    /**\r\n     * The ids of any subjects.\r\n     */\r\n    subjectIds: number[];\r\n    /**\r\n     * The ids of any direct objects.\r\n     */\r\n    directObjectIds: number[];\r\n    /**\r\n     * The ids of any direct objects.\r\n     */\r\n    indirectObjectIds: number[];\r\n}\r\n\r\nexport interface ReferencerContextmenuDataSource extends LexicalContextMenuDataSource {\r\n    /**\r\n     * The id of the referencer for which the menu is defined.\r\n     */\r\n    lexicalId: number;\r\n    /**\r\n     * The ids of any entities the referred to.\r\n     */\r\n    refersToIds: number[];\r\n}",null,"'use strict';\r\nimport { DocumentModel } from 'app/models';\r\nimport { Task } from 'tasks-list-service.provider';\r\nimport { buildMenus, enableActiveHighlighting } from 'app/LASI';\r\n\r\nresultsService.$inject = ['$http', '$q'];\r\n\r\ninterface ResultsService {\r\n    tasks: Task[];\r\n    processDocument(documentId: string, documentName: string): angular.IPromise<DocumentModel>;\r\n}\r\nfunction resultsService($http: angular.IHttpService, $q: angular.IQService): ResultsService {\r\n    var tasks = [];\r\n    var processDocument = function (documentId, documentName): angular.IPromise<DocumentModel> {\r\n        tasks[documentId] = { percentComplete: 0 };\r\n\r\n        var deferred = $q.defer<DocumentModel>();\r\n        $http.get<DocumentModel>('Analysis/' + documentId)\r\n            .success(success)\r\n            .error(error);\r\n        return deferred.promise;\r\n\r\n        function success(data) {\r\n            var markupHeader = $('<div class=\"panel panel-default\">' +\r\n                '<div class=\"panel-heading\"><h4 class=\"panel-title\"><a href=\"#' +\r\n                documentId +\r\n                '\" data-toggle=\"collapse\" data-parent=\"#accordion\">' +\r\n                documentName +\r\n                '</a></h4></div></div>');\r\n            var markupPanel = $('<div id=\"' + documentId + '\" class=\"panel-collapse collapse in\">' +\r\n                JSON.stringify(data) + '</div>' + '</div>');\r\n            if (!$('#' + documentId).length) {\r\n                $('#accordion').append(markupHeader).append(markupPanel);\r\n            } else {\r\n                $('#' + documentId).remove();\r\n                $('#accordion').append(markupPanel);\r\n            }\r\n            buildMenus();\r\n            enableActiveHighlighting();\r\n            tasks[documentId].percentComplete = 100;\r\n            deferred.resolve(data);\r\n            alert(JSON.stringify(data));\r\n        }\r\n        function error(xhr, message, detail) {\r\n            deferred.reject(message);\r\n        }\r\n    };\r\n    return {\r\n        tasks,\r\n        processDocument\r\n    };\r\n}\r\nexport { resultsService }","'use strict';\r\nimport { DocumentModel } from 'app/models';\r\nexport interface DocumentModelService {\r\n    processDocument(documentId: string): angular.IHttpPromise<DocumentModel>;\r\n}\r\ndocumentModelService.$inject = ['$http'];\r\nexport function documentModelService($http: angular.IHttpService): DocumentModelService {\r\n    return {\r\n        processDocument(documentId) {\r\n            return $http.get(`Analysis/${documentId}`, { cache: false })\r\n        }\r\n    };\r\n}","'use strict';\r\nimport { DocumentModelService } from './../document-viewer/document-model.service';\r\nimport { DocumentModel } from 'app/models';\r\nexport interface DocumentListServiceConfig {\r\n    setRecentDocumentCount(count: number): DocumentListServiceConfig;\r\n    setDocumentListUrl(url: string): DocumentListServiceConfig;\r\n}\r\nexport interface DocumentListService {\r\n    get(): DocumentListItemModel[];\r\n    deleteDocument(documentId: string): DocumentListItemModel;\r\n}\r\nexport interface DocumentListItemModel {\r\n    id: string;\r\n    name: string;\r\n    progress: number;\r\n    percentComplete: number;\r\n    showProgress: boolean;\r\n    statusMessage: string;\r\n    raeification: DocumentModel;\r\n}\r\nexport class DocumentListServiceProvider implements DocumentListServiceConfig, angular.IServiceProvider {\r\n    private documentListUrl: string;\r\n    private recentDocumentCount: number;\r\n    constructor() {\r\n        this.$get.$inject = ['$resource'];\r\n    }\r\n    setDocumentListUrl(url: string) {\r\n        this.documentListUrl = url;\r\n        return this;\r\n    }\r\n    setRecentDocumentCount(count: number) {\r\n        this.recentDocumentCount = count;\r\n        return this;\r\n    }\r\n\r\n    $inject = ['$resource'];\r\n    /**\r\n     * @param $resource an instance of the Resource Service supplied by the angular-resource module.\r\n     */\r\n    $get($resource: angular.resource.IResourceService): DocumentListService {\r\n        var resource = $resource<DocumentListItemModel[]>(this.documentListUrl + '?limit=' + this.recentDocumentCount, {}, {\r\n            get: {\r\n                method: 'GET',\r\n                isArray: true\r\n            },\r\n            delete: {\r\n                method: 'DELETE',\r\n                isArray: false\r\n            }\r\n        });\r\n\r\n        return {\r\n            deleteDocument: function (documentId: string) {\r\n                return resource.delete({ documentId })[0];\r\n            },\r\n            get: resource.get\r\n        };\r\n    };\r\n}","'use strict';\r\nimport { DocumentListItemModel } from 'document-list-service.provider';\r\nimport ngf = angular.angularFileUpload;\r\nvar log = console.log.bind(console);\r\nexport class UploadController {\r\n    static $inject = ['$scope', '$q', 'Upload'];\r\n\r\n    constructor(private $scope: angular.IScope,\r\n        private $q: ng.IQService,\r\n        private uploadService: ngf.IUploadService) {\r\n        this.$scope.$watch('files', this.uploadFiles.bind(this));\r\n    }\r\n\r\n    uploadFiles() {\r\n        this.logInvalidFiles();\r\n        return this.$q.when(this.files.map(file => this.uploadFile(file)));\r\n    }\r\n    logInvalidFiles() {\r\n        this.files\r\n            .filter(file => UploadController.formats.every(format => file.type.localeCompare(format) !== 0))\r\n            .map(file => `File ${file.name} has unaccepted format ${file.type}`)\r\n            .forEach(log);\r\n    }\r\n    uploadFile(file: File) {\r\n        return this.uploadService\r\n            .upload<DocumentListItemModel>({\r\n                file,\r\n                url: 'api/UserDocuments',\r\n                method: 'POST',\r\n                fileName: file.name\r\n            })\r\n            .progress(data => log(`Progress: ${100.0 * data.progress / data.percentComplete}% ${file.name}`))\r\n            .success(data => log(`File ${file.name} uploaded. \\nResponse: ${JSON.stringify(data) }`))\r\n            .error((data, status) => log(`Http: ${status} Failed to upload file. \\nDetails: ${data}`));\r\n    }\r\n\r\n    removeFile(file: File, index: number) {\r\n        this.files = this.files.filter(f => f.name !== file.name);\r\n        $('#file-upload-list').remove(`#upload-list-item-${index}`);\r\n    }\r\n\r\n    files: File[] = [];\r\n\r\n    private static formats = [\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n        'application/msword',\r\n        'application/pdf',\r\n        'text/plain'\r\n    ];\r\n\r\n} ","'use strict';\r\nimport { DocumentListItemModel, DocumentListService } from './document-list-service.provider';\r\nimport { Task, TasksListService } from './tasks-list-service.provider';\r\nimport { DocumentsService } from './documents.service';\r\nimport { DocumentModelService } from 'app/document-viewer/document-model.service';\r\nexport class ListController {\r\n    expanded = false;\r\n    documents: DocumentListItemModel[] = [];\r\n    tasks: Task[];\r\n    static $inject = ['$q', 'documentListService', 'tasksListService', 'documentsService', 'documentModelService'];\r\n    constructor(\r\n        private $q: angular.IQService,\r\n        private documentListService: DocumentListService,\r\n        private tasksListService: TasksListService,\r\n        private documentsService: DocumentsService,\r\n        private documentModelService: DocumentModelService) {\r\n        this.activate();\r\n    }\r\n\r\n    toggleExpanded() {\r\n        this.expanded = !this.expanded;\r\n    }\r\n\r\n    deleteById(id: string) {\r\n        var deleteResult = this.documentsService.deleteById(id);\r\n        console.log(deleteResult);\r\n        this.documents = this.documentListService.get();\r\n    }\r\n    get documentCount() {\r\n        return this.documents.length;\r\n    }\r\n\r\n    processDocument(document: DocumentListItemModel) {\r\n        if (!this.documents.some(d => d.raeification && d.id === document.id)) {\r\n            this.documentModelService.processDocument(document.id)\r\n                .success(processed => document.raeification = processed)\r\n                .error(error => console.log(error));\r\n        }\r\n    }\r\n\r\n    activate() {\r\n        return this.$q.all([\r\n            this.$q.when(this.documentListService.get()),\r\n            this.tasksListService.getActiveTasks().then(tasks => tasks.map(task => {\r\n                this.tasks[task.id] = task;\r\n                var t = this.documents.first(d => d.name === task.name);\r\n                (t && (<any>t)).task = task;\r\n                return t;\r\n            }))\r\n        ]).then(data => {\r\n            let [documents, tasks] = <[DocumentListItemModel[], Task[]]>data;\r\n            let associated = documents.correlate(tasks, document => document.id, task => task.id,\r\n                (document, task) => {\r\n                    document.showProgress = task.state === 'Ongoing' || task.state === 'Complete';\r\n                    document.progress = Math.round(task.percentComplete);\r\n                    document.statusMessage = task.statusMessage;\r\n                });\r\n\r\n            tasks.forEach(task => { this.tasks[task.id] = task; });\r\n            [this.documents, this.tasks] = [documents, tasks];\r\n        });\r\n\r\n    }\r\n}","'use strict';\r\n\r\ndocumentListTabsetItem.$inject = ['resultsService'];\r\n\r\nexport function documentListTabsetItem(resultsService): angular.IDirective {\r\n\r\n    return {\r\n        restrict: 'E',\r\n        link: (scope: DocumentListTabsetItemScope, element, attrs) => {\r\n            element.click(event => {\r\n                event.stopPropagation();\r\n                resultsService.processDocument(scope.documentId, scope.name); event.preventDefault();\r\n                var promise = resultsService.processDocument(scope.documentId, scope.name);\r\n                scope.analysisProgress = resultsService.tasks[scope.documentId].percentComplete;\r\n                scope.showProgress = true;\r\n                promise.then(() => scope.analysisProgress = resultsService.tasks[scope.documentId].percentComplete);\r\n            });\r\n            console.log(attrs);\r\n        },\r\n        scope: {\r\n            documentId: '=',\r\n            name: '=',\r\n            percentComplete: '='\r\n        },\r\n        templateUrl: '/app/document-list/document-list-tabset-item.directive.html'\r\n    };\r\n}\r\n\r\ninterface DocumentListTabsetItemScope extends angular.IScope {\r\n    documentId: string;\r\n    name: string;\r\n    analysisProgress: any;\r\n    showProgress: boolean;\r\n} ","'use strict';\r\ndocumentListMenuItem.$inject = ['$window', 'resultsService'];\r\n\r\ninterface DocumentListItemScope extends angular.IScope {\r\n    documentId: string;\r\n    name: string;\r\n    analysisProgress: number;\r\n    showProgress: boolean;\r\n}\r\nexport function documentListMenuItem($window, resultsService): angular.IDirective {\r\n\r\n    return {\r\n        transclude: true,\r\n        replace: true,\r\n        restrict: 'E',\r\n        templateUrl: '/app/document-list/document-list-menu-item.directive.html',\r\n        scope: {\r\n            name: '=',\r\n            documentId: '='\r\n        },\r\n        link: function (scope: DocumentListItemScope, element: JQuery, attrs: angular.IAttributes) {\r\n            element.click(function (event) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                var promise = resultsService.processDocument(scope.documentId, scope.name);\r\n                scope.analysisProgress = resultsService.tasks[scope.documentId].percentComplete;\r\n                scope.showProgress = true;\r\n                promise.then(function () {\r\n                    scope.analysisProgress = resultsService.tasks[scope.documentId].percentComplete;\r\n                });\r\n            });\r\n\r\n        }\r\n    };\r\n} ","'use strict';\r\n\r\nimport { documentsService } from './documents.service';\r\nimport { resultsService } from './results.service';\r\nimport { DocumentListServiceConfig, DocumentListServiceProvider } from './document-list-service.provider';\r\nimport { TasksListServiceProvider, tasksListServiceProvider } from './tasks-list-service.provider';\r\nimport { UploadController } from './upload.controller';\r\nimport { ListController } from './list.controller';\r\nimport { documentListTabsetItem } from './document-list-tabset-item.directive';\r\nimport { documentListMenuItem } from './document-list-menu-item.directive';\r\n\r\nconfigure.$inject = ['tasksListServiceProvider', 'documentListServiceProvider'];\r\n\r\nfunction configure(tasksListServiceProvider: TasksListServiceProvider, documentListServiceProvider: DocumentListServiceConfig) {\r\n    tasksListServiceProvider\r\n        .setUpdateInterval(500)\r\n        .setTasksListUrl('api/Tasks');\r\n    documentListServiceProvider\r\n        .setRecentDocumentCount(5)\r\n        .setDocumentListUrl('api/UserDocuments/List');\r\n}\r\n\r\nexport default {\r\n    name: 'documentList',\r\n    requires: [\r\n        'ngResource',\r\n        'ui.bootstrap',\r\n        'ui.bootstrap.contextMenu', \r\n        'ngFileUpload',\r\n        'documentViewer',\r\n        'debug'\r\n    ],\r\n    configFn: configure,\r\n    factories: { resultsService, documentsService },\r\n    providers: { documentListService: DocumentListServiceProvider, tasksListService: tasksListServiceProvider },\r\n    directives: { documentListTabsetItem, documentListMenuItem },\r\n    controllers: { ListController, UploadController },\r\n}","'use strict';\r\nimport { DocumentModelService } from './document-model.service';\r\nimport { DocumentModel } from 'app/models';\r\nexport class DocumentController {\r\n    static $inject = ['$q', 'MockDocumentModelService'];\r\n\r\n    private documentModel: DocumentModel;\r\n\r\n\r\n    constructor(private $q: angular.IQService,\r\n        private documentModelService: DocumentModelService) {\r\n    }\r\n    processDocument(id: string) {\r\n        if (this.documentModel.id !== id) {\r\n            return this.documentModelService.processDocument(id);\r\n        } else {\r\n            return this.$q.reject(this.documentModel);\r\n        }\r\n    }\r\n}","'use strict';\r\nimport { DocumentController } from './document.controller';\r\nimport { documentModelService } from './document-model.service';\r\nimport { lexicalMenuBuilder } from './lexical-menu-builder.service';\r\n\r\nvar module: AngularModuleOptions = {\r\n    name: 'documentViewer',\r\n    requires: [\r\n        'documentViewer.search',\r\n        'widgets',\r\n        'ngResource',\r\n        'ui.bootstrap',\r\n        'ui.bootstrap.contextMenu'\r\n    ],\r\n    controllers: { DocumentController },\r\n    factories: { documentModelService, lexicalMenuBuilder }\r\n};\r\nexport default module;","'use strict';\r\n\r\nexport default {\r\n    name: 'widgets',\r\n    requires: ['ui.bootstrap']\r\n}","'use strict';\r\nimport { LexicalModel, WordModel, PhraseModel, TextFragmentModel } from 'app/models';\r\nclass SearchBoxController {\r\n    static $inject = ['$q'];\r\n    constructor(private $q: angular.IQService) { }\r\n    phrases: PhraseModel[];\r\n    words: WordModel[];\r\n\r\n    getWords() {\r\n        return (this.phrases || []).flatMap(p => p.words);\r\n    }\r\n    find: SearchModel;\r\n    searchContext: TextFragmentModel[];\r\n\r\n    search(searchOptions: SearchOptions, searchContext: TextFragmentModel[]) {\r\n        let deferred = this.$q.defer<SearchModel[]>();\r\n        let value = searchOptions.value;\r\n        const term =\r\n            typeof value === 'string' ? value :\r\n                typeof value !== 'undefined' ? value.detailText : undefined;\r\n        if (!term) {\r\n            deferred.reject('search term was undefined');\r\n        } else if (!searchContext) {\r\n            deferred.reject('nothing to search');\r\n            this.phrases.forEach(phrase => phrase.style.cssClass = phrase.style.cssClass.replace('matched-by-search', ''));\r\n        } else {\r\n            this.phrases = this.phrases || searchContext.flatMap(m => m.paragraphs).flatMap(p => p.sentences).flatMap(s => s.phrases);\r\n\r\n            var results: PhraseModel[] = [];\r\n            this.phrases.forEach(phrase => {\r\n                let matched = phrase.words.some(word => word.text === value);\r\n                if (!matched) {\r\n                    phrase.style.cssClass = phrase.style.cssClass.replace('matched-by-search', '');\r\n                } else {\r\n                    phrase.style.cssClass += ' matched-by-search';\r\n                    results.push(phrase);\r\n                }\r\n            });\r\n            deferred.resolve(results.map(r => r.text));\r\n        }\r\n        return deferred.promise;\r\n    }\r\n}\r\n\r\nexport function searchBox(): angular.IDirective {\r\n    return {\r\n        restrict: 'E',\r\n        controller: SearchBoxController,\r\n        controllerAs: 'search',\r\n        scope: {},\r\n        bindToController: {\r\n            searchContext: '=',\r\n            find: '='\r\n        },\r\n        templateUrl: '/app/document-viewer/search/search-box.directive.html'\r\n    };\r\n}\r\n\r\ntype SearchModel = string | LexicalModel;\r\ninterface SearchOptions {\r\n    value: SearchModel;\r\n    lifted?: boolean;\r\n} ","'use strict';\r\nimport * as angular from 'angular'\r\nimport { searchBox } from './search-box.directive';\r\n\r\nexport default {\r\n    name: 'documentViewer.search',\r\n    requires: ['ui.bootstrap.typeahead'],\r\n    directives: { searchBox }\r\n}",null,"/// <reference path = '../../typings/angular-bootstrap-contextMenu/angular-bootstrap-contextmenu.d.ts'/>\r\nmodule contextmenuTests {\r\n    'use strict';\r\n\r\n    type Item = angular.ui.bootstrap.contextMenu.MenuItem;\r\n    import ItemEvent = angular.ui.bootstrap.contextMenu.ItemEvent;\r\n\r\n    type T = string;\r\n    import ItemScope = angular.ui.bootstrap.contextMenu.ItemScope;\r\n\r\n\r\n    var item1: Item = [\r\n        (s: ItemScope<string>, e: JQueryEventObject) => 'item1',\r\n        (s: ItemScope<string>, e: JQueryEventObject) => console.log('item1 clicked'),\r\n        (s: ItemScope<string>, e: JQueryEventObject) => true\r\n    ];\r\n    var item2: Item = [\r\n        'item2',\r\n        (s) => console.log(s)\r\n    ];\r\n    var item3: Item = [\r\n        'item3',\r\n        (s: ItemScope<string>, e: JQueryEventObject) => console.log('item3 clicked'),\r\n        (s, e) => Object.keys(s).every(k1 => Object.keys(e).some(k2 => k1 === k2))\r\n    ];\r\n    var menu: Item[] = [\r\n        item1, item2\r\n    ];\r\n}","/// <reference path=\"../../../typings/jquery/jquery.d.ts\" />\r\nnamespace LASI.accountManagement {\r\n    'use strict';\r\n    $(() => $('#cancel-profile-edits').click(() => document.location.href = `http://${document.domain}:${document.location.port}`));\r\n}","namespace LASI.documentList {\r\n    export interface DocumentListItem {\r\n        /**\r\n         * The name of the document\r\n         */\r\n        name: string;\r\n        /**\r\n         * The id of the document\r\n         */\r\n        id: string;\r\n        /**\r\n         * The content is optional as the list item may just be a placeholder for the document.\r\n         */\r\n        content?: string;\r\n    }\r\n}","'use strict';\r\n\r\nexport function documentPage(): angular.IDirective {\r\n    function link(scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes) {\r\n        console.log(scope);\r\n        console.log(element);\r\n        console.log(attrs);\r\n    }\r\n    return {\r\n        restrict: 'E',\r\n        link: link,\r\n        templateUrl: '/app/document-viewer/document-page.directive.html',\r\n        replace: true,\r\n        scope: {\r\n            page: '=',\r\n            document: '='\r\n        }\r\n    };\r\n}","'use strict';\r\n\r\ndocumentViewerDirective.$inject = [];\r\nexport function documentViewerDirective(): angular.IDirective {\r\n\r\n    var link: angular.IDirectiveLinkFn = function (scope: angular.IScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes) {\r\n        console.log(scope);\r\n        console.log(element);\r\n        console.log(attrs);\r\n    };\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/app/document-viewer/document-viewer.directive.html',\r\n        replace: true,\r\n        scope: {\r\n            document: '='\r\n        },\r\n        link\r\n    };\r\n}","namespace LASI.documentViewer {\r\n    'use strict';\r\n\r\n    paragraph.$inject = ['$window'];\r\n    function paragraph($window: angular.IWindowService): angular.IDirective {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: '/app/document-viewer/paragraph.directive.html',\r\n            scope: {\r\n                paragraph: '=',\r\n                parentId: '='\r\n            }\r\n        };\r\n\r\n    }\r\n    angular\r\n        .module('documentViewer')\r\n        .directive({ paragraph });\r\n}","'use strict';\r\nimport { PhraseModel } from 'app/models';\r\nimport { LexicalMenuBuilderFactory, VerbalContextmenuDataSource } from './lexical-menu-builder.service';\r\nphrase.$inject = ['lexicalMenuBuilder'];\r\n\r\nexport function phrase(lexicalMenuBuilder: LexicalMenuBuilderFactory): angular.IDirective {\r\n    return {\r\n        restrict: 'E',\r\n        templateUrl: '/app/document-viewer/phrase.directive.html',\r\n        scope: {\r\n            phrase: '=',\r\n            parentId: '='\r\n        },\r\n        link\r\n    };\r\n\r\n    function link(scope: PhraseScope, element: angular.IAugmentedJQuery, attrs: angular.IAttributes) {\r\n        var contextmenu = lexicalMenuBuilder.buildAngularMenu(scope.phrase.contextmenu);\r\n        scope.phrase.hasContextmenuData = !!contextmenu;\r\n        if (scope.phrase.hasContextmenuData) {\r\n            (<any>scope.phrase).contextmenu = contextmenu;\r\n        }\r\n    }\r\n}\r\n\r\n\r\ninterface PhraseScope extends angular.IScope {\r\n    phrase: PhraseModel;\r\n    parentId?: string;\r\n    menuIsViable(menu: VerbalContextmenuDataSource): boolean;\r\n}\r\n\r\nangular\r\n    .module('documentViewer')\r\n    .directive({ phrase });\r\n","namespace LASI.documentViewer {\r\n    'use strict';\r\n\r\n    function sentence(): angular.IDirective {\r\n        return {\r\n            restrict: 'E',\r\n            templateUrl: '/app/document-viewer/sentence.directive.html',\r\n            scope: {\r\n                sentence: '=',\r\n                parentId: '='\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('documentViewer')\r\n        .directive({ sentence });\r\n}","/// <reference path=\"../../../typings/jquery/jquery.d.ts\"/>\r\n/// <reference path=\"../lasi.ts\"/>\r\n\r\ninterface JQuery { contextmenu: any; }\r\n(function (app) {\r\n    'use strict';\r\n    app.buildMenus = (function (contextualElementIdSelectors) {\r\n        var verbalMenuTextToElementsMap = {\r\n            'View Subjects': 'subjects',\r\n            'View Direct Objects': 'directObjects',\r\n            'View Indirect Objects': 'indirectObjects'\r\n        };\r\n        var relationshipCssClassNameMap = {\r\n            'View Subjects': 'subject-of-current',\r\n            'View Direct Objects': 'direct-object-of-current',\r\n            'View Indirect Objects': 'indirect-object-of-current'\r\n        };\r\n        return function () {\r\n            var forVerbal = function (context) {\r\n\r\n                var menu = JSON.parse($('#context' + context[0].id).text());\r\n                var subjects = menu.subjects,\r\n                    directObjects = menu.directObjects,\r\n                    indirectObjects = menu.indirectObjects;\r\n                var temp = {\r\n                    subjects: subjects,\r\n                    directObjects: directObjects,\r\n                    indirectObjects: indirectObjects\r\n                }, result = {};\r\n                Object.keys(temp)\r\n                    .filter(function (key) { return temp[key]; })\r\n                    .forEach(function (key) { result[key] = temp[key]; });\r\n                return result;\r\n            }, forReferencer = function (context) {\r\n                    var menu = JSON.parse($('#context' + context[0].id).text());\r\n                    return menu;\r\n                };\r\n            $('span.referencer').contextmenu({\r\n                target: '#referencer-context-menu',\r\n                before: function (event, context) {\r\n                    var data = forReferencer(context);\r\n                    event.target.lexicalContextMenu = data;\r\n                    return data.referredTo && data.referredTo.length > 0;\r\n                },\r\n                onItem: function (context) {\r\n                    context[0].lexicalContextMenu.referredTo.map(function (id) {\r\n                        return $('#' + id);\r\n                    }).forEach(function (element) {\r\n                        element.css('background-color', 'red');\r\n                    });\r\n                }\r\n            });\r\n            $('span.verbal').contextmenu({\r\n                target: '#verbal-context-menu',\r\n                before: function (e, context) {\r\n\r\n                    var count = 0;\r\n                    var menu = forVerbal(context);\r\n                    e.target.lexicalContextMenu = {};\r\n                    Object.keys(menu).forEach(function (key) {\r\n                        e.target.lexicalContextMenu[key] = menu[key].map(function (id) {\r\n                            var idSelector = '#' + id;\r\n                            if (!contextualElementIdSelectors.some(function (e) { return e === idSelector; })) {\r\n                                contextualElementIdSelectors.push(idSelector);\r\n                            }\r\n                            return idSelector;\r\n                        });\r\n                    });\r\n                    [\r\n                        { name: 'subjects', id: '#subjects-item' },\r\n                        { name: 'directObjects', id: '#directobjects-item' },\r\n                        { name: 'indirectObjects', id: '#indirectobjects-item' }\r\n                    ].forEach(function (x) {\r\n                        if (!menu[x.name]) {\r\n                            $(x.id).hide();\r\n                        } else {\r\n                            count += 1;\r\n                            $(x.id).show();\r\n                        }\r\n                    });\r\n                    return count > 0;\r\n                },\r\n                onItem: function (context, event) {\r\n                    var menu = context[0].lexicalContextMenu;\r\n                    contextualElementIdSelectors\r\n                        .flatMap(function (e) { return $(e).toArray(); }, $)\r\n                        .forEach(function (e) {\r\n                        Object.keys(relationshipCssClassNameMap).forEach(function (key) {\r\n                            e.removeClass(relationshipCssClassNameMap[key]);\r\n                        });\r\n                    });\r\n                    menu[verbalMenuTextToElementsMap[event.target.text]]\r\n                        .map($)\r\n                        .forEach(function (e) {\r\n                        e.addClass(relationshipCssClassNameMap[event.target.text]);\r\n                    });\r\n\r\n                }\r\n            });\r\n            $(document).on('click', function () {\r\n                $('#verbal-context-menu').hide();\r\n                $('#referencer-context-menu').hide();\r\n            });\r\n        };\r\n    } ([]));\r\n    $(app.buildMenus);\r\n} (LASI));","import * as LASI from 'app/LASI';\r\n\r\nLASI.enableActiveHighlighting = function () {\r\n    'use strict';\r\n    var enableActiveHighlighting = function () {\r\n        var phrasalTextSpans = $('span.phrase');\r\n        var highlightClass = 'active-phrase-highlight';\r\n        var recolor = function () {\r\n            phrasalTextSpans.each(function () {\r\n                $(this).removeClass(highlightClass);\r\n            });\r\n            $(this).addClass(highlightClass);\r\n        };\r\n        phrasalTextSpans.click(recolor);\r\n        phrasalTextSpans.on('contextmenu', recolor);\r\n\r\n        // bootstrap requires that tooltips be manually enabled. The data-toggle=\"tooltip\" attributes set on each element\r\n        // have no effect without this or an equivalent call. By setting container to 'body', we allow the contents of the \r\n        // tooltip to overflow its container. This is generally close to the desired behavior as it is difficult to predict width\r\n        // and this gives good flexibility. There is probably a cleaner and more precise/obvious way of doing this, change to that if discovered.\r\n        $('[data-toggle=\"tooltip\"]').tooltip({\r\n            delay: 250,\r\n            container: 'body'\r\n        });\r\n        // TODO: look into fixing tooltips on elements containing a line break or remove such breaks.\r\n    };\r\n    $(enableActiveHighlighting);\r\n    return enableActiveHighlighting;\r\n};","/* global:draggable */\r\nnamespace LASI.documentList {\r\n    'use strict';\r\n    var draggable = (window as any).draggable;\r\n    var createHeaderMarkup = function (documentId, documentName) {\r\n        return '<div>' +\r\n            '<div class=\"panel-heading\">' +\r\n            '<h4 class=\"panel-title\">' +\r\n            '<a href=\"#' + documentId + '\">'\r\n            + documentName + '</a></h4></div></div>';\r\n    };\r\n    $(function () {\r\n        window.setTimeout(function () {\r\n            //setupDraggableDialogs = function () {\r\n            //    var enableDragging = function (e, h?) {\r\n            //        var handle = $(e).find('.handle')[0];\r\n            //        draggable(e, handle);\r\n            //        e.style.position = '';\r\n            //    };\r\n            //    // Make all confirm delete modals draggable.\r\n            //    $('[id^=confirm-delete-modal]').toArray().forEach(enableDragging);\r\n            //    // Make the manage documents modal draggable.\r\n            //    var draggableDialog = $('#manage-documents-modal');\r\n            //    var dragHandle = draggableDialog.find('.handle')[0];\r\n            //    if (draggableDialog[0] || dragHandle) {\r\n            //        enableDragging(draggableDialog[0], dragHandle);\r\n            //    }\r\n            //};\r\n            //setupDraggableDialogs();\r\n            var $tabs = $('.document-viewer-tab-heading');\r\n            var $listItemRefs = $('.document-list-item > a');\r\n            var click = function (event) {\r\n                event.preventDefault();\r\n                var $listItem = $(this);\r\n                var $element = $(event.target);\r\n                //var documentName = $element[0].text;\r\n                var documentName = $element[0].innerText;\r\n                var documentId = $element.next('.item-id-hidden')[0].innerText.trim();\r\n                console.log('clicked Name: ' + documentName + ', Id: ' + documentId);\r\n                var $parentListItem = $($(event.target).parent());\r\n                var $progress = $parentListItem.find('.progress hidden')\r\n                    .find('.progress-bar')\r\n                    .removeClass('.hidden').css('width', '100');\r\n                $.get('Analysis/' + documentId).done(function (data, status, xhr) {\r\n                    var headerMarkup = $(createHeaderMarkup(documentId, documentName));\r\n                    var panelMarkup =\r\n                        $(`<div id=\"${documentId}\">\r\n                           <document-viewer-directive document=\"document\"></document-viewer-directive></div></div>`);\r\n                    if (!$('#' + documentId).length) {\r\n                        $('#accordion').append(headerMarkup).append(panelMarkup);\r\n\r\n                    } else {\r\n                        $('#' + documentId).remove();\r\n                        $('#accordion').append(panelMarkup);\r\n                    }\r\n                    xhr.progress('100%');\r\n                    //LASI.buildMenus();\r\n                    //enableActiveHighlighting();\r\n                }).fail(function (xhr, message, detail) {\r\n                    log(message);\r\n                }).progress(function (data) {\r\n                    $progress.css('width', data);\r\n                });\r\n            };\r\n            $listItemRefs.click(click);\r\n            //$tabs.click(click);\r\n        }, 1000);\r\n    });\r\n}","/// <reference path=\"../../../typings/jquery/jquery.d.ts\" />\r\n/// <reference path=\"../lasi.ts\" />\r\n(function (app) {\r\n    'use strict';\r\n    app.validateFileExtension = (function () {\r\n        var accepted = Object.freeze(['.txt', '.docx', '.pdf', 'doc']);\r\n        return function (fileName) {\r\n            var extension = fileName.substring(fileName.lastIndexOf('.')).toLowerCase();\r\n            return accepted.some(function (ext) {\r\n                return ext === extension;\r\n            });\r\n        };\r\n    })();\r\n    $(function () {\r\n        var $uploadList = $('#document-upload-list');\r\n        app.$uploadList = $uploadList;\r\n        $(document)\r\n            .find('.btn-file :file')\r\n            .change(function () {\r\n            var $input = $(this),\r\n                fileCount = $uploadList.find('span.file-index').length,\r\n                files = (<HTMLInputElement>$input[0]).files;\r\n            app.files = files;\r\n            app.fileCount = fileCount;\r\n            var generateUploadListItemMarkup = function (file, index) {\r\n                return '<div class=\"list-group-item text-left\">' +\r\n                    '<span class=\"glyphicon glyphicon-remove remove-file\"/>' +\r\n                    '&nbsp;&nbsp;&nbsp;<span class=\"file-index\">' +\r\n                    [fileCount, index, 1].sum() +\r\n                    '</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class=\"file-name\">' +\r\n                    file.name + '</span></div>';\r\n            },\r\n                label = $input.val().replace(/\\\\/g, '/').replace(/[.]*\\//, '');\r\n            $(files).filter((index, element) => app.validateFileExtension((<HTMLInputElement>element).name))\r\n                .toArray()\r\n                .filter(function (file) {\r\n                return !($uploadList.children('span').toArray().some(function () {\r\n                    return $(this).text() === file.name;\r\n                }));\r\n            }).forEach(function (file, index) {\r\n                $uploadList.append(generateUploadListItemMarkup(file, index));\r\n                $('span.glyphicon.glyphicon-remove.remove-file')\r\n                    .click(function () {\r\n                    $(this).removeData(file.name)\r\n                        .parent()\r\n                        .parent()\r\n                        .find('span.file-name')\r\n                        .filter(function () { return $(this).text() === file.name; })\r\n                        .each(function () { return $(this).parent('div').remove(); });\r\n                    $uploadList.find('span.file-index')\r\n                        .each(function (index) { $(this).text(index + 1); });\r\n                });\r\n            });\r\n            $input.trigger('fileselect', [files && files.length, label]);\r\n        });\r\n    });\r\n})(LASI);","namespace LASI.widgets {\r\n    'use strict';\r\n\r\n    processingTaskProgressBar.$inject = [];\r\n    function processingTaskProgressBar(): angular.IDirective {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                task: '='\r\n            },\r\n            templateUrl: '/app/widgets/processing-task-progress-bar.directive.html'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('widgets')\r\n        .directive({ processingTaskProgressBar });\r\n}","//module LASI.documentViewer {\r\n//    'use strict';\r\n\r\n//    export interface IDocumentModelService {\r\n//        processDocument(documentId: string): models.IDocumentModel;\r\n//    }\r\n\r\n//    class MockDocumentModelService implements IDocumentModelService {\r\n//        static $inject: string[] = ['$resource'];\r\n//        documentSource: ng.resource.IResourceClass<models.IDocumentModel>;\r\n//        constructor(private $resource: ng.resource.IResourceService) {\r\n//            this.documentSource = $resource<models.IDocumentModel>('Analysis/:documentId');\r\n//        }\r\n//        processDocument(documentId: string) {\r\n//            return this.$resource<models.IDocumentModel>('tests/test-data/doc.json').get();\r\n//        }\r\n//    }\r\n\r\n//    angular\r\n//        .module('documentViewer')\r\n//        .service('MockDocumentModelService', MockDocumentModelService);\r\n//}","/// <amd-dependency path=\"angular\" />\r\n/// <amd-dependency path=\"angular-resource\" />\r\n/// <amd-dependency path=\"angular-bootstrap\" />\r\n/// <amd-dependency path=\"angular-bootstrap-contextmenu\" />\r\n/// <amd-dependency path=\"angular-file-upload\" />\r\n/// <amd-dependency path=\"jquery\" />\r\n/// <amd-dependency path=\"app/utilities/augmentations\"\r\nimport { module, bootstrap } from 'angular';\r\nimport 'app/utilities/augmentations';\r\nimport debug from './app/debug/debug.module';\r\nimport widgets from './app/widgets/widgets.module';\r\nimport documentList from './app/document-list/document-list.module';\r\nimport documentUpload from './app/document-upload/document-upload.module';\r\nimport documentViewer from './app/document-viewer/document-viewer.module';\r\nimport documentViewerSearch from './app/document-viewer/search/search.module';\r\n\r\nfunction register(m: AngularModuleOptions) {\r\n    function validate() {\r\n        if (!m.name) { throw new TypeError(\"name is required\"); }\r\n        if (!m.requires) { throw new TypeError(\"requires must be an array. Did you intend to invoke the setter?\"); }\r\n    }\r\n    module(m.name, m.requires, m.configFn || (() => { }))\r\n        .provider(m.providers || {})\r\n        .factory(m.factories || {})\r\n        .service(m.services || {})\r\n        .filter(m.filters || {})\r\n        .controller(m.controllers || {})\r\n        .directive(m.directives || {})\r\n        .value(m.values || {})\r\n        .constant(m.constants || {})\r\n        .run(m.runFn || (() => { }));\r\n}\r\nexport function angularBootstrap() {\r\n    function registerAll(...modules: AngularModuleOptions[]) {\r\n        modules.forEach(register);\r\n    }\r\n\r\n    return function () {\r\n        registerAll(debug, widgets, documentList, documentUpload, documentViewer, documentViewerSearch);\r\n        bootstrap(document.body, ['documentList']);\r\n    };\r\n}"],"sourceRoot":"/source/"}