
(function(){'use strict';if(!Array.prototype.hasOwnProperty('flatMap')){Array.prototype.flatMap=function(arraySelector,elementSelector){arraySelector=arraySelector||function(array){return array;};elementSelector=elementSelector||function(element){return element;};return this.reduce(function(array,a){return array.concat(arraySelector(a).map(elementSelector));},[]);};}
if(!Array.prototype.hasOwnProperty('correlate')){Array.prototype.correlate=function(inner,outerKeySelector,innerKeySelector,resultSelector){var outerKeyed,innerKeyed,i,j,results=[];outerKeyed=this.map(function(e){return{element:e,key:outerKeySelector(e)};});innerKeyed=inner.map(function(e){return{element:e,key:innerKeySelector(e)};});for(i=0;i<outerKeyed.length;i+=1){for(j=0;j<innerKeyed.length;j+=1){if(outerKeyed[i].key===innerKeyed[j].key){results.push({first:outerKeyed[i].element,second:innerKeyed[j].element});}}}
return resultSelector?results.map(function(e){return resultSelector(e.first,e.second);}):results;};}
if(!Array.prototype.hasOwnProperty('sum')){Array.prototype.sum=function(valueSelector){var projection=valueSelector||function(x){return Number(x);};return this.length===0?0:this.reduce(function(total,element){return total+projection(element);},0);};}
if(!Array.prototype.hasOwnProperty('average')){Array.prototype.average=function(valueSelector){return this.sum(valueSelector||function(x){return Number(x);})/this.length;};}}());
(function(){'use strict';var validateFileExtension=(function(){var accepted=Object.freeze(['.txt','.docx','.pdf','doc']);return function(fileName){var extension=fileName.substring(fileName.lastIndexOf('.')).toLowerCase();return accepted.some(function(ext){return ext===extension;});};}());$(function(){var $uploadList=$('#document-upload-list');$(document).find('.btn-file :file').change(function(){var $input=$(this),fileCount=$uploadList.find('span.file-index').length,files=$input[0].files,generateUploadListItemMarkup=function(file,index){return'<div class="list-group-item text-left">'+'<span class="glyphicon glyphicon-remove remove-file"/>'+'&nbsp;&nbsp;&nbsp;<span class="file-index">'+
[fileCount,index,1].sum()+'</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="file-name">'+
file.name+'</span></div>';},label=$input.val().replace(/\\/g,'/').replace(/[.]*\//,'');$(files).filter(function(){return validateFileExtension($(this).text());}).filter(function(file){return!$uploadList.children('span').toArray().some(function(){return $(this).text()===file.name;});}).toArray().forEach(function(file,index){$uploadList.append(generateUploadListItemMarkup(file,index));$('span.glyphicon.glyphicon-remove.remove-file').click(function(){$(this).removeData(file.name);$(this).parent().parent().find('span.file-name').filter(function(){return $(this).text()===file.name;}).each(function(){return $(this).parent('div').remove();});$uploadList.find('span.file-index').each(function(index){$(this).text(index+1);});});});$input.trigger('fileselect',[files&&files.length,label]);});});}());
(function(){'use strict';$(function(){$('#cancel-profile-edits').click(function(){document.location.href='http://'+document.domain+':'+document.location.port;});});}());

$(function(){'use strict';var idxs=document.getElementsByTagName('span'),actuals=[],i;for(i=0;i<idxs.length;i+=1){actuals.push(idxs[i].id);}
var createForDocument=function(context){var getAllBy$Ids=function(ids){return $(ids.filter(function(id){return id;}).map(function(id){return'#'+id;}).join(','));};var $contextElements=getAllBy$Ids(context.map(function(e){return e.id||e;}));var getRelatedElements=function(element,targetIdCollection){$contextElements.filter(function(x){element[targetIdCollection].some(function(id){return x.id===id;});});};var forVerbal=function(rawData){var verbal=$.parseJSON(rawData);var subjects=getRelatedElements(verbal,'subjects'),directObjects=getRelatedElements(verbal,'directObjects'),indirectObjects=getRelatedElements(verbal,'indirectObjects');return{subjects:subjects,directObjects:directObjects,indirectObjects:indirectObjects};};$('.verbal').each(function(i,e){$(e).contextmenu(function(){var data=forVerbal('#context'+e.id);i=i+1;alert(e.data);return data;});});};createForDocument(actuals);});
//@ sourceMappingURL=app.min.map