
(function(){'use strict';$('#cancel-profile-edits').click(function(){document.location.href='http://'+document.domain+':'+document.location.port;});}());
var app=function(app){'use strict';var account=require('/account/manage.js'),widgets=require('/widgets/document-upload.js');app.exports={account:account,widgets:widgets};};
(function(){'use strict';if(!Array.prototype.hasOwnProperty('flatMap')){Array.prototype.flatMap=function(arraySelector,elementSelector){arraySelector=arraySelector||function(array){return array;};elementSelector=elementSelector||function(element){return element;};return this.reduce(function(array,a){return array.concat(arraySelector(a).map(elementSelector));},[]);};}
if(!Array.prototype.hasOwnProperty('correlate')){Array.prototype.correlate=function(inner,outerKeySelector,innerKeySelector,resultSelector){var outerKeyed,innerKeyed,i,j,results=[];outerKeyed=this.map(function(e){return{element:e,key:outerKeySelector(e)};});innerKeyed=inner.map(function(e){return{element:e,key:innerKeySelector(e)};});for(i=0;i<outerKeyed.length;i+=1){for(j=0;j<innerKeyed.length;j+=1){if(outerKeyed[i].key===innerKeyed[j].key){results.push({first:outerKeyed[i].element,second:innerKeyed[j].element});}}}
return resultSelector?results.map(function(e){return resultSelector(e.first,e.second);}):results;};}
if(!Array.prototype.hasOwnProperty('sum')){Array.prototype.sum=function(valueSelector){var projection=valueSelector||function(x){return Number(x);};return this.length===0?0:this.reduce(function(total,element){return total+projection(element);},0);};}
if(!Array.prototype.hasOwnProperty('average')){Array.prototype.average=function(valueSelector){return this.sum(valueSelector||function(x){return Number(x);})/this.length;};}
if(!String.prototype.hasOwnProperty('formatAsPercent')){String.prototype.formatAsPercent=function(num){return num.toString()+'%';};}}());
(function(){'use strict';var validateFileExtension=(function(){var accepted=Object.freeze(['.txt','.docx','.pdf','doc']);return function(fileName){var extension=fileName.substring(fileName.lastIndexOf('.')).toLowerCase();return accepted.some(function(ext){return ext===extension;});};}());$(function(){var $uploadList=$('#document-upload-list');$(document).find('.btn-file :file').change(function(){var $input=$(this),fileCount=$uploadList.find('span.file-index').length,files=$input[0].files,generateUploadListItemMarkup=function(file,index){return'<div class="list-group-item text-left">'+'<span class="glyphicon glyphicon-remove remove-file"/>'+'&nbsp;&nbsp;&nbsp;<span class="file-index">'+
[fileCount,index,1].sum()+'</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="file-name">'+
file.name+'</span></div>';},label=$input.val().replace(/\\/g,'/').replace(/[.]*\//,'');$(files).filter(function(){return validateFileExtension($(this).text());}).filter(function(file){return!$uploadList.children('span').toArray().some(function(){return $(this).text()===file.name;});}).forEach(function(file,index){$uploadList.append(generateUploadListItemMarkup(file,index));$('span.glyphicon.glyphicon-remove.remove-file').click(function(){$(this).removeData(file.name);$(this).parent().parent().find('span.file-name').filter(function(){return $(this).text()===file.name;}).each(function(){return $(this).parent('div').remove();});$uploadList.find('span.file-index').each(function(index){$(this).text(index+1);});});});$input.trigger('fileselect',[files&&files.length,label]);});});}());

(function(){'use strict';var test=QUnit.test,deepEqual=QUnit.deepEqual,notStrictEqual=QUnit.notStrictEqual,ok=QUnit.ok;test("flatMap defined test",function(){ok(Array.prototype.hasOwnProperty("flatMap"),"flatMap defined on Array.prototype!");});test("flatMap test",function(){var actual=[[1,2,3],[4,5,6],[7,8]].flatMap(),expected=[1,2,3,4,5,6,7,8];deepEqual(actual,expected,("expected: "+expected+";  actual: "+actual));});test("flatMap test1",function(){var actual=[[1,2,3],[4,5,6],[7,8]].flatMap(undefined,function(x){return x*x;}),expected=[1,4,9,16,25,36,49,64];deepEqual(actual,expected,("expected: "+expected+"  actual: "+actual));});test("flatMap test2",function(){var actual=[[1,2,3],[4,5,6],[7,8]].flatMap(function(e){var i,result=[];for(i=0;i<e.length;i+=1){result.push(e[i]);}
return result;},function(x){return x*x;}),expected=[1,4,9,16,25,36,49,64];deepEqual(actual,expected,("expected: "+expected+";  actual: "+actual));});test("flatMap test3",function(){$('body').append('<ul style="list-style:none;" hidden id="flatMapTest3"><li>18</li><li>67</li></ul>');var actual=[document.getElementById("flatMapTest3").childNodes,document.getElementById("flatMapTest3").childNodes].flatMap(function(e){var i,result=[];for(i=0;i<e.length;i+=1){result.push(Number($(e[i]).text()));}
return result;},function(x){return x*x;}),expected=[18*18,67*67,18*18,67*67];deepEqual(actual,expected,("expected: "+expected+";  actual: "+actual));});test("correlate defined test",function(){ok(Array.prototype.hasOwnProperty("correlate"),"correlate defined on Array.prototype!");});test('correlate test 1',function(){var outer=[9,2,3,4],inner=[16,95,71,81],actual=outer.correlate(inner,function(e){return e%2;},function(e){return e%2;}),expected=[{first:9,second:95},{first:9,second:71},{first:9,second:81},{first:2,second:16},{first:3,second:95},{first:3,second:71},{first:3,second:81},{first:4,second:16}];deepEqual(actual.map(function(e){return e.toString();}),expected.map(function(e){return e.toString();}),"expected: "+expected+"  actual: "+actual);});test('correlate test 2',function(){var outer=[9,2,3,4],inner=[16,95,71,81],actual=outer.correlate(inner,function(e){return e%2;},function(e){return e%2;}),expected=[{first:9,second:95},{first:9,second:71},{first:9,second:81},{first:2,second:16},{first:3,second:95},{first:3,second:71},{first:3,second:81},{first:4,second:16}];notStrictEqual(actual.map(function(e){return JSON.stringify(e);}),expected.map(function(e){return JSON.stringify(e);}));});test('correlate test 3',function(){var outer=[9,2,3,4],inner=[16,95,71,81],actual=outer.correlate(inner,function(e){return e%2;},function(e){return e%2;},function(o,i){return o*i;}),expected=[9*95,9*71,9*81,2*16,3*95,3*71,3*81,4*16];notStrictEqual(actual,expected,"expected: "+expected+";  actual: "+actual);});test('correlate test 4',function(){var outer=[9,2,3,4],inner=[16,95,71,81],actual=outer.correlate(inner,function(e){return e%2;},function(e){return e%2;},function(o,i){return o.toString()+i.toString();}),expected=["995","971","981","216","395","371","381","416"];deepEqual(actual,expected,"expected: "+expected+";  actual: "+actual);});}());
//@ sourceMappingURL=app.min.js.map