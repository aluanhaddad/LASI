@model IEnumerable<AspSixApp.Models.User.ActiveUserDocument>
<div id="documentListApp" ng-app="documentListApp">
    <div ng-controller="ListController as controller">
        <div class="collapse navbar-collapse navbar-left" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="dropdown" id="dropdown-list-item-container">
                    <a href="#" class="dropdown-toggle" id="document-menu-dropdown-href"
                       data-toggle="dropdown"
                       role="button"
                       aria-expanded="false">
                        <span class="glyphicon" ng-click="controller.expanded = !controller.expanded"
                              ng-class="{ 'glyphicon-folder-close': controller.expanded, 'glyphicon-folder-open': !controller.expanded }">&nbsp;<span class="badge small">{{controller.documentCount}}</span></span>&nbsp;&nbsp;<b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu" role="menu" ng-model="controller.documents">
                            <li class="dropdown" id="document-list-item-manage">
                                <a href="#" data-target="#manage-documents-modal" data-toggle="modal">Manage</a>
                            </li>

                            <document-list-menu-item ng-repeat="d in controller.documents" ng-model="d" document-id="d.id" name="d.name" analysis-progress="d.progress">
                            </document-list-menu-item>

                            <li class="dropdown"><a href="#" id="new-text-editor-item" data-toggle="collapse" data-target="#free-editor" class="nav-justified glyphicon glyphicon-pencil"></a></li>
                        </ul>

                    </li>

                </ul>
            </div>
            <div id="manage-documents-modal"
                 class="modal fade"
                 tabindex="-1"
                 role="dialog"
                 aria-labelledby="#myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header handle modal-drag-handle">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                            <h4 class="modal-title">Manage Documents</h4>
                        </div>
                        <div class="modal-body">
                            <ul class="list-group">


                                <li ng-repeat="d in controller.documents" class="list-group-item">
                                    <div>
                                        {{d.name}}<a href="#" data-toggle="modal" data-target="#confirm-delete-modal{{d.id}}">
                                            <span class="glyphicon glyphicon-remove pull-right"></span>
                                        </a>
                                    </div>
                                    <div id="confirm-delete-modal{{d.id}}"
                                         class="modal fade"
                                         role="dialog"
                                         aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header handle modal-drag-handle">
                                                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                    <div class="modal-title">Are you sure you want to delete <em>{{d.name}}</em>?</div>
                                                </div>
                                                <div class="modal-body">
                                                    <button type="button" role="button" class="btn btn-block" value="OK" id="confirm-delete-button-{{d.id}}">OK<span hidden></span></button>
                                                    <button type="button" role="button" class="btn btn-block" data-dismiss="modal">Cancel</button>
                                                </div>
                                                <div class="modal-footer">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div><div class="modal-footer"></div>
                    </div>
                </div>

            </div>
        </div>
    </div>